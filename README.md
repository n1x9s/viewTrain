# Interview Training API

Система для проведения тренировочных интервью с автоматической оценкой ответов.

## Технологический стек

- Python 3.11+
- FastAPI
- SQLAlchemy 2.0
- PostgreSQL
- Alembic (миграции)
- Pydantic v2

## Локальное развертывание

### 1. Клонирование репозитория

```bash
git clone <your-repository-url>
cd interviewTraining
```

### 2. Создание виртуального окружения

```bash
python -m venv .venv
source .venv/bin/activate  # для Linux/macOS
# или
.venv\Scripts\activate  # для Windows
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Настройка базы данных

1. Установите PostgreSQL, если он еще не установлен
2. Создайте базу данных:

```bash
createdb interview_training
```

3. Синхронизируйте данные .env с репозитория со своими данными подключения к базе данных


### 5. Применение миграций

```bash
alembic upgrade head
```

### 6. Запуск сервера для разработки

```bash
uvicorn app.main:app --reload
```

Сервер будет доступен по адресу: http://localhost:8000

API документация: http://localhost:8000/docs

## Основные функции

- Регистрация и аутентификация пользователей
- Управление профилем пользователя (обновление данных, удаление аккаунта)
- Проведение тренировочных интервью
- Автоматическая оценка ответов
- История проведенных интервью
- Управление направлениями и языками программирования
- Безопасное хранение паролей с использованием хеширования

## Структура проекта

```
app/
├── auth/               # Аутентификация и авторизация
│   ├── dependencies.py # Зависимости для авторизации
│   ├── models.py      # Модели пользователей
│   ├── router.py      # Роуты аутентификации
│   └── schemas.py     # Схемы данных
├── dao/               # Доступ к данным
│   ├── base.py       # Базовый класс DAO
│   ├── database.py   # Настройки базы данных
│   └── session.py    # Управление сессиями
├── history/          # История интервью
│   ├── dao.py       # Доступ к данным истории
│   ├── router.py    # Роуты истории
│   └── schemas.py   # Схемы истории
├── interview/        # Основной функционал интервью
│   ├── dao.py       # Доступ к данным интервью
│   ├── models.py    # Модели интервью и вопросов
│   ├── router.py    # Роуты интервью
│   └── schemas.py   # Схемы интервью
└── main.py          # Точка входа приложения
```

## API Endpoints

### Аутентификация
- POST `/api/v1/auth/register` - Регистрация нового пользователя
- POST `/api/v1/auth/login` - Вход в систему
- POST `/api/v1/auth/logout` - Выход из системы
- GET `/api/v1/auth/me` - Получение информации о текущем пользователе
- PUT `/api/v1/auth/me` - Обновление данных пользователя
- DELETE `/api/v1/auth/me` - Удаление аккаунта пользователя

### Интервью
- GET `/api/v1/interview/` - Получение списка доступных интервью
- POST `/api/v1/interview/` - Создание нового интервью
- GET `/api/v1/interview/{interview_id}` - Получение детальной информации об интервью
- POST `/api/v1/interview/{interview_id}/answer` - Отправка ответа на вопрос
- GET `/api/v1/interview/{interview_id}/result` - Получение результатов интервью

### История
- GET `/api/v1/history/` - Получение истории интервью пользователя
- GET `/api/v1/history/{interview_id}` - Получение детальной информации об интервью из истории

## Безопасность

- Все пароли хешируются перед сохранением
- Используется JWT для аутентификации
- Реализована защита от основных уязвимостей
- Безопасное хранение конфиденциальных данных в переменных окружения

## Разработка

### Запуск тестов

```bash
pytest
```

### Проверка кода

```bash
flake8
black .
```

### Создание миграций

```bash
alembic revision --autogenerate -m "description"
```
